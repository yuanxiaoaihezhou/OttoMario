# OttoMario - 快速入门指南

## 游戏目标
控制马里奥从关卡的起点到达终点的旗帜，途中收集金币、消灭敌人并避免受伤。

## 基本操作

### 主菜单
- 使用鼠标点击按钮
- **Play Game**: 开始游戏（载入默认关卡）
- **Level Editor**: 进入关卡编辑器
- **Exit**: 退出游戏

### 游戏中
- `A` 或 `←`: 向左移动
- `D` 或 `→`: 向右移动  
- `Space`、`W` 或 `↑`: 跳跃
- `Escape`: 暂停游戏

### 暂停菜单
- `Escape`: 继续游戏
- 使用鼠标点击：
  - **Resume**: 继续游戏
  - **Main Menu**: 返回主菜单

## 游戏元素说明

### 玩家（马里奥）
- 初始状态：小马里奥（红色帽子+蓝色衣服）
- 吃到蘑菇后：大马里奥（变大，可以打破砖块）
- 生命数：初始3条
- 受到伤害：大马里奥变回小马里奥，小马里奥失去一条生命

### 方块类型
1. **地面方块（棕色）**: 实心平台，可以站立
2. **砖块（橙红色）**: 大马里奥可以从下方打破，小马里奥无法打破
3. **问号方块（金色）**: 从下方撞击可获得道具（金币或蘑菇），撞击后变为普通方块

### 敌人
1. **Goomba（深棕色圆形）**: 
   - 左右移动
   - 踩踏消灭（从上方跳到它身上）
   - 触碰侧面会受伤
   - 消灭获得200分

2. **Koopa（绿色）**: 
   - 行为类似Goomba
   - 踩踏消灭
   - 消灭获得200分

### 道具
1. **金币（金色圆形）**:
   - 从问号方块获得
   - 每个金币+100分
   - 收集100个金币获得1条额外生命

2. **蘑菇（红白色）**:
   - 从问号方块中出现
   - 接触后变成大马里奥
   - 获得1000分

### 关卡目标
- **旗帜（白色细长）**: 触碰后完成关卡

## 计分系统
- 金币：100分/个
- 踩踏敌人：200分/个
- 蘑菇：1000分
- 时间奖励：剩余时间×10分

## HUD信息
屏幕顶部显示：
- **SCORE**: 当前得分
- **COINS**: 收集的金币数量
- **LIVES**: 剩余生命数
- **TIME**: 剩余时间（秒）

## 关卡编辑器

### 基本操作
- `1-6`: 选择要放置的实体类型
  - 1: 地面方块
  - 2: 砖块
  - 3: 问号方块
  - 4: Goomba敌人
  - 5: Koopa敌人
  - 6: 旗帜
- `I`: 切换问号方块的道具类型（金币/蘑菇）
- **鼠标左键**: 在鼠标位置放置选中的实体
- **鼠标右键**: 删除鼠标位置的实体
- **方向键**: 移动相机查看关卡的不同区域

### 高级功能
- `Ctrl+S`: 保存当前关卡到 `level.json`
- `Ctrl+O`: 从 `level.json` 加载关卡
- `T`: 测试当前关卡（进入游戏模式）
- `Escape`: 返回主菜单

### 编辑器界面
- 顶部工具栏显示：
  - 当前选中的瓷砖类型
  - 如果是问号方块，显示内含的道具类型
  - 所有可用的快捷键
- 网格显示关卡布局
- 不同颜色代表不同的实体类型

### 测试模式
- 按 `T` 进入测试模式
- 可以立即游玩当前编辑的关卡
- 按 `Escape` 退出测试模式回到编辑器
- 测试时显示游戏HUD（分数、生命等）

## 关卡设计技巧

1. **地面**: 至少放置2层地面方块，防止玩家掉出关卡
2. **平台**: 创建悬空平台供玩家跳跃
3. **敌人**: 合理放置敌人增加难度
4. **道具**: 在关卡中放置问号方块，给玩家补给
5. **目标**: 在关卡末尾放置旗帜作为终点
6. **测试**: 经常使用测试模式确保关卡可以完成

## 关卡文件格式

关卡保存为JSON格式，包含：
```json
{
  "Name": "关卡名称",
  "Width": 200,
  "Height": 15,
  "PlayerStartPosition": { "X": 100, "Y": 300 },
  "TimeLimit": 300,
  "BackgroundColor": { "R": 92, "G": 148, "B": 252, "A": 255 },
  "Entities": [
    {
      "Type": "GroundBlock",
      "X": 0,
      "Y": 416,
      "ItemType": ""
    }
  ]
}
```

## 游戏结束条件

### 失败
- 生命用尽（Lives = 0）
- 时间耗尽（Time = 0）
- 掉出地图

### 胜利
- 触碰到旗帜
- 显示最终得分
- 可选择重玩或返回主菜单

## 小提示

1. **跳跃技巧**: 在空中可以控制左右移动
2. **踩踏敌人**: 从正上方落下才能消灭敌人，侧面触碰会受伤
3. **问号方块**: 从下方跳起撞击才能激活
4. **大马里奥**: 变大后可以打破砖块，相当于一次免伤害机会
5. **关卡探索**: 四处探索寻找隐藏的道具和金币
6. **时间管理**: 注意倒计时，尽快到达终点

祝你游戏愉快！🎮
